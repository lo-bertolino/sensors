

HI-TECH Software PIC LITE Macro Assembler V9.82 build 9453 
                                                                                               Wed Apr 12 22:16:19 2017

HI-TECH Software Omniscient Code Generator (Lite mode) build 9453
     1  0000                     opt subtitle "HI-TECH Software Omniscient Code Generator (Lite mode) build 9453"
     2                           
     3                           opt pagewidth 120
     4                           
     5                           	opt lm
     6                           
     7                           	processor	16F876
     8                           clrc	macro
     9                           	bcf	3,0
    10  0000                     	endm
    11                           clrz	macro
    12                           	bcf	3,2
    13  0000                     	endm
    14                           setc	macro
    15                           	bsf	3,0
    16  0000                     	endm
    17                           setz	macro
    18                           	bsf	3,2
    19  0000                     	endm
    20                           skipc	macro
    21                           	btfss	3,0
    22  0000                     	endm
    23                           skipz	macro
    24                           	btfss	3,2
    25  0000                     	endm
    26                           skipnc	macro
    27                           	btfsc	3,0
    28  0000                     	endm
    29                           skipnz	macro
    30                           	btfsc	3,2
    31  0000                     	endm
    32  0000                     indf	equ	0
    33  0000                     indf0	equ	0
    34  0002                     pc	equ	2
    35  0002                     pcl	equ	2
    36  0003                     status	equ	3
    37  0004                     fsr	equ	4
    38  0004                     fsr0	equ	4
    39  0001                     c	equ	1
    40  0000                     z	equ	0
    41  000A                     pclath	equ	10
    42                           # 16 "main.c"
    43                           	psect config,class=CONFIG,delta=2 ;#
    44                           # 16 "main.c"
    45  2007  FFF9               	dw 0xFFFD & 0xFFFB & 0xFFFF & 0xFFFF & 0xFFFF & 0xFFFF & 0xFFFF & 0xFFFF ;#
    46                           	FNCALL	_main,_Init
    47                           	FNCALL	_main,_spi_transfer_sync
    48                           	FNCALL	_Init,_spi_init
    49                           	FNROOT	_main
    50                           	global	_PIR1bits
    51                           psect	text104,local,class=CODE,delta=2
    52                           global __ptext104
    53  0000                     __ptext104:
    54  000C                     _PIR1bits	set	12
    55                           	global	_PORTCbits
    56  0007                     _PORTCbits	set	7
    57                           	global	_SSPBUF
    58  0013                     _SSPBUF	set	19
    59                           	global	_SSPCONbits
    60  0014                     _SSPCONbits	set	20
    61                           	global	_CARRY
    62  0018                     _CARRY	set	24
    63                           	global	_GIE
    64  005F                     _GIE	set	95
    65                           	global	_SSPSTATbits
    66  0094                     _SSPSTATbits	set	148
    67                           	global	_TRISA
    68  0085                     _TRISA	set	133
    69                           	global	_TRISAbits
    70  0085                     _TRISAbits	set	133
    71                           	global	_TRISB
    72  0086                     _TRISB	set	134
    73                           	global	_TRISC
    74  0087                     _TRISC	set	135
    75                           	global	_TRISCbits
    76  0087                     _TRISCbits	set	135
    77                           	global	_EEADR
    78  010D                     _EEADR	set	269
    79                           	global	_EEDATA
    80  010C                     _EEDATA	set	268
    81                           	global	_EECON1
    82  018C                     _EECON1	set	396
    83                           	global	_EECON2
    84  018D                     _EECON2	set	397
    85                           	global	_RD
    86  0C60                     _RD	set	3168
    87                           	global	_WR
    88  0C61                     _WR	set	3169
    89                           	global	_WREN
    90  0C62                     _WREN	set	3170
    91                           psect	strings,class=STRING,delta=2
    92                           global __pstrings
    93  0003                     __pstrings:
    94                           ;	global	stringdir,stringtab,__stringbase
    95  0003                     stringtab:
    96                           ;	String table - string pointers are 1 byte each
    97  0003                     stringcode:stringdir:
      + 0003                     stringdir:	
    98  0003  3000               movlw high(stringdir)
    99  0004  008A               movwf pclath
   100  0005  0804               movf fsr,w
   101  0006  0A84               incf fsr
   102  0007  0782               	addwf pc
   103  0008                     __stringbase:
   104  0008  3400               	retlw	0
   105                           psect	strings
   106                           	
   107  0009                     STR_1:	
   108  0009  3448               	retlw	72	;'H'
   109  000A  3465               	retlw	101	;'e'
   110  000B  346C               	retlw	108	;'l'
   111  000C  346C               	retlw	108	;'l'
   112  000D  346F               	retlw	111	;'o'
   113  000E  3420               	retlw	32	;' '
   114  000F  3477               	retlw	119	;'w'
   115  0010  346F               	retlw	111	;'o'
   116  0011  3472               	retlw	114	;'r'
   117  0012  346C               	retlw	108	;'l'
   118  0013  3464               	retlw	100	;'d'
   119  0014  340A               	retlw	10
   120  0015  3400               	retlw	0
   121                           psect	strings
   122                           	file	"C:\Users\Lorenzo\AppData\Local\Temp\s9gk."
   123                           	line	#
   124                           psect cinit,class=CODE,delta=2
   125                           global start_initialization
   126  0780                     start_initialization:
   127                           
   128                           psect cinit,class=CODE,delta=2
   129                           global end_of_initialization
   130                           
   131                           ;End of C runtime variable initialization code
   132                           
   133  0780                     end_of_initialization:
   134  0780  0183               clrf status
   135  0781  120A  118A  2FA7   ljmp _main	;jump to C main() function
   136                           psect	cstackCOMMON,class=COMMON,space=1
   137                           global __pcstackCOMMON
   138  0070                     __pcstackCOMMON:
   139                           	global	?_spi_init
   140  0070                     ?_spi_init:	; 0 bytes @ 0x0
   141                           	global	??_spi_init
   142  0070                     ??_spi_init:	; 0 bytes @ 0x0
   143                           	global	?_spi_transfer_sync
   144  0070                     ?_spi_transfer_sync:	; 0 bytes @ 0x0
   145                           	global	?_Init
   146  0070                     ?_Init:	; 0 bytes @ 0x0
   147                           	global	??_Init
   148  0070                     ??_Init:	; 0 bytes @ 0x0
   149                           	global	?_main
   150  0070                     ?_main:	; 0 bytes @ 0x0
   151                           	global	spi_transfer_sync@datain
   152  0070                     spi_transfer_sync@datain:	; 1 bytes @ 0x0
   153  0070                     	ds	1
   154                           	global	spi_transfer_sync@length
   155  0071                     spi_transfer_sync@length:	; 2 bytes @ 0x1
   156  0071                     	ds	2
   157                           	global	??_spi_transfer_sync
   158  0073                     ??_spi_transfer_sync:	; 0 bytes @ 0x3
   159  0073                     	ds	1
   160                           	global	spi_transfer_sync@dataout
   161  0074                     spi_transfer_sync@dataout:	; 1 bytes @ 0x4
   162  0074                     	ds	1
   163                           	global	??_main
   164  0075                     ??_main:	; 0 bytes @ 0x5
   165  0075                     	ds	3
   166                           	global	main@tmp
   167  0078                     main@tmp:	; 1 bytes @ 0x8
   168  0078                     	ds	1
   169 ;;Data sizes: Strings 13, constant 0, data 0, bss 0, persistent 0 stack 0
   170 ;;Auto spaces:   Size  Autos    Used
   171 ;; COMMON          14      9       9
   172 ;; BANK0           80      0       0
   173 ;; BANK1           80      0       0
   174 ;; BANK3           96      0       0
   175 ;; BANK2           96      0       0
   176                           
   177 ;;
   178 ;; Pointer list with targets:
   179                           
   180 ;; spi_transfer_sync@datain	PTR unsigned char  size(1) Largest target is 0
   181 ;;
   182 ;; spi_transfer_sync@dataout	PTR unsigned char  size(1) Largest target is 0
   183 ;;
   184                           
   185                           
   186 ;;
   187 ;; Critical Paths under _main in COMMON
   188 ;;
   189 ;;   _main->_spi_transfer_sync
   190 ;;
   191 ;; Critical Paths under _main in BANK0
   192 ;;
   193 ;;   None.
   194 ;;
   195 ;; Critical Paths under _main in BANK1
   196 ;;
   197 ;;   None.
   198 ;;
   199 ;; Critical Paths under _main in BANK3
   200 ;;
   201 ;;   None.
   202 ;;
   203 ;; Critical Paths under _main in BANK2
   204 ;;
   205 ;;   None.
   206                           
   207 ;;
   208 ;;Main: autosize = 0, tempsize = 3, incstack = 0, save=0
   209 ;;
   210                           
   211 ;;
   212 ;;Call Graph Tables:
   213 ;;
   214 ;; ---------------------------------------------------------------------------------
   215 ;; (Depth) Function   	        Calls       Base Space   Used Autos Params    Refs
   216 ;; ---------------------------------------------------------------------------------
   217 ;; (0) _main                                                 4     4      0      80
   218 ;;                                              5 COMMON     4     4      0
   219 ;;                               _Init
   220 ;;                  _spi_transfer_sync
   221 ;; ---------------------------------------------------------------------------------
   222 ;; (1) _Init                                                 0     0      0       0
   223 ;;                           _spi_init
   224 ;; ---------------------------------------------------------------------------------
   225 ;; (1) _spi_transfer_sync                                    5     2      3      45
   226 ;;                                              0 COMMON     5     2      3
   227 ;; ---------------------------------------------------------------------------------
   228 ;; (2) _spi_init                                             0     0      0       0
   229 ;; ---------------------------------------------------------------------------------
   230 ;; Estimated maximum stack depth 2
   231 ;; ---------------------------------------------------------------------------------
   232                           
   233 ;; Call Graph Graphs:
   234                           
   235 ;; _main (ROOT)
   236 ;;   _Init
   237 ;;     _spi_init
   238 ;;   _spi_transfer_sync
   239 ;;
   240                           
   241 ;; Address spaces:
   242                           
   243 ;;Name               Size   Autos  Total    Cost      Usage
   244 ;;BITCOMMON            E      0       0       0        0.0%
   245 ;;EEDATA             100      0       0       0        0.0%
   246 ;;NULL                 0      0       0       0        0.0%
   247 ;;CODE                 0      0       0       0        0.0%
   248 ;;COMMON               E      9       9       1       64.3%
   249 ;;BITSFR0              0      0       0       1        0.0%
   250 ;;SFR0                 0      0       0       1        0.0%
   251 ;;BITSFR1              0      0       0       2        0.0%
   252 ;;SFR1                 0      0       0       2        0.0%
   253 ;;STACK                0      0       2       2        0.0%
   254 ;;ABS                  0      0       0       3        0.0%
   255 ;;BITBANK0            50      0       0       4        0.0%
   256 ;;BITSFR3              0      0       0       4        0.0%
   257 ;;SFR3                 0      0       0       4        0.0%
   258 ;;BANK0               50      0       0       5        0.0%
   259 ;;BITSFR2              0      0       0       5        0.0%
   260 ;;SFR2                 0      0       0       5        0.0%
   261 ;;BITBANK1            50      0       0       6        0.0%
   262 ;;BANK1               50      0       0       7        0.0%
   263 ;;BITBANK3            60      0       0       8        0.0%
   264 ;;BANK3               60      0       0       9        0.0%
   265 ;;BITBANK2            60      0       0      10        0.0%
   266 ;;BANK2               60      0       0      11        0.0%
   267 ;;DATA                 0      0       0      12        0.0%
   268                           
   269                           	global	_main
   270                           psect	maintext,global,class=CODE,delta=2
   271                           global __pmaintext
   272  07A7                     __pmaintext:
   273                           
   274 ;; *************** function _main *****************
   275 ;; Defined at:
   276 ;;		line 91 in file "main.c"
   277 ;; Parameters:    Size  Location     Type
   278 ;;		None
   279 ;; Auto vars:     Size  Location     Type
   280 ;;  tmp             1    8[COMMON] PTR unsigned char 
   281 ;; Return value:  Size  Location     Type
   282 ;;		None               void
   283 ;; Registers used:
   284 ;;		wreg, fsr0l, fsr0h, status,2, status,0, pclath, cstack
   285 ;; Tracked objects:
   286 ;;		On entry : 17F/0
   287 ;;		On exit  : 0/0
   288 ;;		Unchanged: 0/0
   289 ;; Data sizes:     COMMON   BANK0   BANK1   BANK3   BANK2
   290 ;;      Params:         0       0       0       0       0
   291 ;;      Locals:         1       0       0       0       0
   292 ;;      Temps:          3       0       0       0       0
   293 ;;      Totals:         4       0       0       0       0
   294 ;;Total ram usage:        4 bytes
   295 ;; Hardware stack levels required when called:    2
   296 ;; This function calls:
   297 ;;		_Init
   298 ;;		_spi_transfer_sync
   299 ;; This function is called by:
   300 ;;		Startup code after reset
   301 ;; This function uses a non-reentrant model
   302 ;;
   303                           psect	maintext
   304                           	file	"main.c"
   305                           	line	91
   306                           	global	__size_of_main
   307  002C                     	__size_of_main	equ	__end_of_main-_main
   308                           	
   309  07A7                     _main:	
   310                           	opt	stack 6
   311                           ; Regs used in _main: [wreg-fsr0h+status,2+status,0+pclath+cstack]
   312                           	line	92
   313                           	
   314  07A7                     l3579:	
   315                           ;main.c: 93: char *tmp;
   316                           ;main.c: 94: *tmp = "Hello world\n";
   317  07A7  120A  118A  2784   	fcall	_Init
              120A  118A         
   318  07AC  2FAD               	goto	l3581
   319                           	line	95
   320                           ;main.c: 95: while(1){
   321                           	
   322  07AD                     l578:	
   323                           	line	96
   324                           	
   325  07AD                     l3581:	
   326                           ;main.c: 96: PORTCbits.RC0=0;
   327  07AD  1283               	bcf	status, 5	;RP0=0, select bank0
   328  07AE  1303               	bcf	status, 6	;RP1=0, select bank0
   329  07AF  1007               	bcf	(7),0	;volatile
   330                           	line	97
   331                           	
   332  07B0                     l3583:	
   333                           ;main.c: 97: spi_transfer_sync(tmp, tmp, 13);
   334  07B0  0878               	movf	(main@tmp),w
   335  07B1  00F5               	movwf	(??_main+0)+0
   336  07B2  0875               	movf	(??_main+0)+0,w
   337  07B3  00F0               	movwf	(?_spi_transfer_sync)
   338  07B4  300D               	movlw	low(0Dh)
   339  07B5  00F1               	movwf	0+(?_spi_transfer_sync)+01h
   340  07B6  3000               	movlw	high(0Dh)
   341  07B7  00F2               	movwf	(0+(?_spi_transfer_sync)+01h)+1
   342  07B8  0878               	movf	(main@tmp),w
   343  07B9  120A  118A  27D3   	fcall	_spi_transfer_sync
              120A  118A         
   344                           	line	98
   345                           	
   346  07BE                     l3585:	
   347                           ;main.c: 98: PORTCbits.RC0=0;
   348  07BE  1283               	bcf	status, 5	;RP0=0, select bank0
   349  07BF  1303               	bcf	status, 6	;RP1=0, select bank0
   350  07C0  1007               	bcf	(7),0	;volatile
   351                           	line	99
   352                           	
   353  07C1                     l3587:	
   354                           ;main.c: 99: _delay((unsigned long)((1000)*(4000000/4000.0)));
   355                           	opt asmopt_off
   356  07C1  3006               movlw  6
   357  07C2  00F7               movwf	((??_main+0)+0+2),f
   358  07C3  3013               movlw	19
   359  07C4  00F6               movwf	((??_main+0)+0+1),f
   360  07C5  30B1               	movlw	177
   361  07C6  00F5               movwf	((??_main+0)+0),f
   362  07C7                     u2277:
   363  07C7  0BF5               	decfsz	((??_main+0)+0),f
   364  07C8  2FC7               	goto	u2277
   365  07C9  0BF6               	decfsz	((??_main+0)+0+1),f
   366  07CA  2FC7               	goto	u2277
   367  07CB  0BF7               	decfsz	((??_main+0)+0+2),f
   368  07CC  2FC7               	goto	u2277
   369  07CD  2FCE               	nop2
   370                           opt asmopt_on
   371                           
   372  07CE  2FAD               	goto	l3581
   373                           	line	100
   374                           	
   375  07CF                     l579:	
   376                           	line	95
   377  07CF  2FAD               	goto	l3581
   378                           	
   379  07D0                     l580:	
   380                           	line	101
   381                           	
   382  07D0                     l581:	
   383                           	global	start
   384  07D0  120A  118A  2800   	ljmp	start
   385                           	opt stack 0
   386                           GLOBAL	__end_of_main
   387  07D3                     	__end_of_main:
   388 ;; =============== function _main ends ============
   389                           
   390                           	signat	_main,88
   391                           	global	_Init
   392                           psect	text105,local,class=CODE,delta=2
   393                           global __ptext105
   394  0784                     __ptext105:
   395                           
   396 ;; *************** function _Init *****************
   397 ;; Defined at:
   398 ;;		line 21 in file "main.c"
   399 ;; Parameters:    Size  Location     Type
   400 ;;		None
   401 ;; Auto vars:     Size  Location     Type
   402 ;;		None
   403 ;; Return value:  Size  Location     Type
   404 ;;		None               void
   405 ;; Registers used:
   406 ;;		wreg, status,2, status,0, pclath, cstack
   407 ;; Tracked objects:
   408 ;;		On entry : 0/0
   409 ;;		On exit  : 0/0
   410 ;;		Unchanged: 0/0
   411 ;; Data sizes:     COMMON   BANK0   BANK1   BANK3   BANK2
   412 ;;      Params:         0       0       0       0       0
   413 ;;      Locals:         0       0       0       0       0
   414 ;;      Temps:          0       0       0       0       0
   415 ;;      Totals:         0       0       0       0       0
   416 ;;Total ram usage:        0 bytes
   417 ;; Hardware stack levels used:    1
   418 ;; Hardware stack levels required when called:    1
   419 ;; This function calls:
   420 ;;		_spi_init
   421 ;; This function is called by:
   422 ;;		_main
   423 ;; This function uses a non-reentrant model
   424 ;;
   425                           psect	text105
   426                           	file	"main.c"
   427                           	line	21
   428                           	global	__size_of_Init
   429  000B                     	__size_of_Init	equ	__end_of_Init-_Init
   430                           	
   431  0784                     _Init:	
   432                           	opt	stack 6
   433                           ; Regs used in _Init: [wreg+status,2+status,0+pclath+cstack]
   434                           	line	23
   435                           	
   436  0784                     l3575:	
   437                           ;main.c: 23: TRISA = 0;
   438  0784  1683               	bsf	status, 5	;RP0=1, select bank1
   439  0785  1303               	bcf	status, 6	;RP1=0, select bank1
   440  0786  0185               	clrf	(133)^080h	;volatile
   441                           	line	24
   442                           ;main.c: 24: TRISB = 0;
   443  0787  0186               	clrf	(134)^080h	;volatile
   444                           	line	25
   445                           ;main.c: 25: TRISC = 0;
   446  0788  0187               	clrf	(135)^080h	;volatile
   447                           	line	27
   448                           	
   449  0789                     l3577:	
   450                           ;main.c: 27: spi_init();
   451  0789  120A  118A  278F   	fcall	_spi_init
              120A  118A         
   452                           	line	38
   453                           	
   454  078E                     l575:	
   455  078E  0008               	return
   456                           	opt stack 0
   457                           GLOBAL	__end_of_Init
   458  078F                     	__end_of_Init:
   459 ;; =============== function _Init ends ============
   460                           
   461                           	signat	_Init,88
   462                           	global	_spi_transfer_sync
   463                           psect	text106,local,class=CODE,delta=2
   464                           global __ptext106
   465  07D3                     __ptext106:
   466                           
   467 ;; *************** function _spi_transfer_sync *****************
   468 ;; Defined at:
   469 ;;		line 46 in file "spi.c"
   470 ;; Parameters:    Size  Location     Type
   471 ;;  dataout         1    wreg     PTR unsigned char 
   472 ;;  datain          1    0[COMMON] PTR unsigned char 
   473 ;;  length          2    1[COMMON] unsigned int 
   474 ;; Auto vars:     Size  Location     Type
   475 ;;  dataout         1    4[COMMON] PTR unsigned char 
   476 ;; Return value:  Size  Location     Type
   477 ;;		None               void
   478 ;; Registers used:
   479 ;;		wreg, fsr0l, fsr0h, status,2, status,0
   480 ;; Tracked objects:
   481 ;;		On entry : 0/0
   482 ;;		On exit  : 0/0
   483 ;;		Unchanged: 0/0
   484 ;; Data sizes:     COMMON   BANK0   BANK1   BANK3   BANK2
   485 ;;      Params:         3       0       0       0       0
   486 ;;      Locals:         1       0       0       0       0
   487 ;;      Temps:          1       0       0       0       0
   488 ;;      Totals:         5       0       0       0       0
   489 ;;Total ram usage:        5 bytes
   490 ;; Hardware stack levels used:    1
   491 ;; This function calls:
   492 ;;		Nothing
   493 ;; This function is called by:
   494 ;;		_main
   495 ;; This function uses a non-reentrant model
   496 ;;
   497                           psect	text106
   498                           	file	"spi.c"
   499                           	line	46
   500                           	global	__size_of_spi_transfer_sync
   501  002D                     	__size_of_spi_transfer_sync	equ	__end_of_spi_transfer_sync-_spi_transfer_sync
   502                           	
   503  07D3                     _spi_transfer_sync:	
   504                           	opt	stack 7
   505                           ; Regs used in _spi_transfer_sync: [wreg-fsr0h+status,2+status,0]
   506                           ;spi_transfer_sync@dataout stored from wreg
   507  07D3  00F4               	movwf	(spi_transfer_sync@dataout)
   508                           	line	47
   509                           	
   510  07D4                     l2689:	
   511                           ;spi.c: 47: while(length){
   512  07D4  2FF8               	goto	l2701
   513                           	
   514  07D5                     l1729:	
   515                           	line	48
   516                           	
   517  07D5                     l2691:	
   518                           ;spi.c: 48: SSPBUF = *dataout;
   519  07D5  0874               	movf	(spi_transfer_sync@dataout),w
   520  07D6  0084               	movwf	fsr0
   521  07D7  1383               	bcf	status, 7	;select IRP bank0
   522  07D8  0800               	movf	indf,w
   523  07D9  1283               	bcf	status, 5	;RP0=0, select bank0
   524  07DA  1303               	bcf	status, 6	;RP1=0, select bank0
   525  07DB  0093               	movwf	(19)	;volatile
   526                           	line	49
   527                           ;spi.c: 49: while(!PIR1bits.SSPIF);
   528  07DC  2FDD               	goto	l1730
   529                           	
   530  07DD                     l1731:	
   531                           	
   532  07DD                     l1730:	
   533  07DD  1D8C               	btfss	(12),3	;volatile
   534  07DE  2FE0               	goto	u11
   535  07DF  2FE1               	goto	u10
   536  07E0                     u11:
   537  07E0  2FDD               	goto	l1730
   538  07E1                     u10:
   539                           	
   540  07E1                     l1732:	
   541                           	line	50
   542                           ;spi.c: 50: PIR1bits.SSPIF = 0;
   543  07E1  118C               	bcf	(12),3	;volatile
   544                           	line	51
   545                           	
   546  07E2                     l2693:	
   547                           ;spi.c: 51: *datain = SSPBUF;
   548  07E2  0813               	movf	(19),w	;volatile
   549  07E3  00F3               	movwf	(??_spi_transfer_sync+0)+0
   550  07E4  0870               	movf	(spi_transfer_sync@datain),w
   551  07E5  0084               	movwf	fsr0
   552  07E6  0873               	movf	(??_spi_transfer_sync+0)+0,w
   553  07E7  1383               	bcf	status, 7	;select IRP bank0
   554  07E8  0080               	movwf	indf
   555                           	line	52
   556                           	
   557  07E9                     l2695:	
   558                           ;spi.c: 52: length--;
   559  07E9  3001               	movlw	low(01h)
   560  07EA  02F1               	subwf	(spi_transfer_sync@length),f
   561  07EB  3000               	movlw	high(01h)
   562  07EC  1C03               	skipc
   563  07ED  03F2               	decf	(spi_transfer_sync@length+1),f
   564  07EE  02F2               	subwf	(spi_transfer_sync@length+1),f
   565                           	line	53
   566                           	
   567  07EF                     l2697:	
   568                           ;spi.c: 53: dataout++;
   569  07EF  3001               	movlw	(01h)
   570  07F0  00F3               	movwf	(??_spi_transfer_sync+0)+0
   571  07F1  0873               	movf	(??_spi_transfer_sync+0)+0,w
   572  07F2  07F4               	addwf	(spi_transfer_sync@dataout),f
   573                           	line	54
   574                           	
   575  07F3                     l2699:	
   576                           ;spi.c: 54: datain++;
   577  07F3  3001               	movlw	(01h)
   578  07F4  00F3               	movwf	(??_spi_transfer_sync+0)+0
   579  07F5  0873               	movf	(??_spi_transfer_sync+0)+0,w
   580  07F6  07F0               	addwf	(spi_transfer_sync@datain),f
   581  07F7  2FF8               	goto	l2701
   582                           	line	55
   583                           	
   584  07F8                     l1728:	
   585                           	line	47
   586                           	
   587  07F8                     l2701:	
   588  07F8  0872               	movf	((spi_transfer_sync@length+1)),w
   589  07F9  0471               	iorwf	((spi_transfer_sync@length)),w
   590  07FA  1D03               	skipz
   591  07FB  2FFD               	goto	u21
   592  07FC  2FFE               	goto	u20
   593  07FD                     u21:
   594  07FD  2FD5               	goto	l2691
   595  07FE                     u20:
   596  07FE  2FFF               	goto	l1734
   597                           	
   598  07FF                     l1733:	
   599                           	line	56
   600                           	
   601  07FF                     l1734:	
   602  07FF  0008               	return
   603                           	opt stack 0
   604                           GLOBAL	__end_of_spi_transfer_sync
   605  0800                     	__end_of_spi_transfer_sync:
   606 ;; =============== function _spi_transfer_sync ends ============
   607                           
   608                           	signat	_spi_transfer_sync,12408
   609                           	global	_spi_init
   610                           psect	text107,local,class=CODE,delta=2
   611                           global __ptext107
   612  078F                     __ptext107:
   613                           
   614 ;; *************** function _spi_init *****************
   615 ;; Defined at:
   616 ;;		line 12 in file "spi.c"
   617 ;; Parameters:    Size  Location     Type
   618 ;;		None
   619 ;; Auto vars:     Size  Location     Type
   620 ;;		None
   621 ;; Return value:  Size  Location     Type
   622 ;;		None               void
   623 ;; Registers used:
   624 ;;		wreg, status,2, status,0
   625 ;; Tracked objects:
   626 ;;		On entry : 0/0
   627 ;;		On exit  : 0/0
   628 ;;		Unchanged: 0/0
   629 ;; Data sizes:     COMMON   BANK0   BANK1   BANK3   BANK2
   630 ;;      Params:         0       0       0       0       0
   631 ;;      Locals:         0       0       0       0       0
   632 ;;      Temps:          0       0       0       0       0
   633 ;;      Totals:         0       0       0       0       0
   634 ;;Total ram usage:        0 bytes
   635 ;; Hardware stack levels used:    1
   636 ;; This function calls:
   637 ;;		Nothing
   638 ;; This function is called by:
   639 ;;		_Init
   640 ;; This function uses a non-reentrant model
   641 ;;
   642                           psect	text107
   643                           	file	"spi.c"
   644                           	line	12
   645                           	global	__size_of_spi_init
   646  0018                     	__size_of_spi_init	equ	__end_of_spi_init-_spi_init
   647                           	
   648  078F                     _spi_init:	
   649                           	opt	stack 6
   650                           ; Regs used in _spi_init: [wreg+status,2+status,0]
   651                           	line	14
   652                           	
   653  078F                     l2683:	
   654                           ;spi.c: 14: SSPCONbits.SSPEN = 0;
   655  078F  1283               	bcf	status, 5	;RP0=0, select bank0
   656  0790  1303               	bcf	status, 6	;RP1=0, select bank0
   657  0791  1294               	bcf	(20),5	;volatile
   658                           	line	16
   659                           ;spi.c: 16: TRISCbits.TRISC4 = 1;
   660  0792  1683               	bsf	status, 5	;RP0=1, select bank1
   661  0793  1303               	bcf	status, 6	;RP1=0, select bank1
   662  0794  1607               	bsf	(135)^080h,4	;volatile
   663                           	line	18
   664                           ;spi.c: 18: TRISAbits.TRISA5 = 1;
   665  0795  1685               	bsf	(133)^080h,5	;volatile
   666                           	line	21
   667                           ;spi.c: 21: TRISCbits.TRISC5 = 0;
   668  0796  1287               	bcf	(135)^080h,5	;volatile
   669                           	line	22
   670                           ;spi.c: 22: TRISCbits.TRISC3 = 0;
   671  0797  1187               	bcf	(135)^080h,3	;volatile
   672                           	line	24
   673                           ;spi.c: 24: TRISCbits.TRISC1 = 0;
   674  0798  1087               	bcf	(135)^080h,1	;volatile
   675                           	line	25
   676                           ;spi.c: 25: PORTCbits.RC0=1;
   677  0799  1283               	bcf	status, 5	;RP0=0, select bank0
   678  079A  1303               	bcf	status, 6	;RP1=0, select bank0
   679  079B  1407               	bsf	(7),0	;volatile
   680                           	line	27
   681                           ;spi.c: 27: SSPCONbits.CKP = 0;
   682  079C  1214               	bcf	(20),4	;volatile
   683                           	line	28
   684                           ;spi.c: 28: SSPSTATbits.CKE = 1;
   685  079D  1683               	bsf	status, 5	;RP0=1, select bank1
   686  079E  1303               	bcf	status, 6	;RP1=0, select bank1
   687  079F  1714               	bsf	(148)^080h,6	;volatile
   688                           	line	29
   689                           ;spi.c: 29: SSPSTATbits.SMP = 1;
   690  07A0  1794               	bsf	(148)^080h,7	;volatile
   691                           	line	30
   692                           	
   693  07A1                     l2685:	
   694                           ;spi.c: 30: SSPCONbits.SSPM = 0;
   695  07A1  30F0               	movlw	((0 & ((1<<4)-1))<<0)|not (((1<<4)-1)<<0)
   696  07A2  1283               	bcf	status, 5	;RP0=0, select bank0
   697  07A3  1303               	bcf	status, 6	;RP1=0, select bank0
   698  07A4  0594               	andwf	(20),f	;volatile
   699                           	line	31
   700                           	
   701  07A5                     l2687:	
   702                           ;spi.c: 31: SSPCONbits.SSPEN = 1;
   703  07A5  1694               	bsf	(20),5	;volatile
   704                           	line	32
   705                           	
   706  07A6                     l1716:	
   707  07A6  0008               	return
   708                           	opt stack 0
   709                           GLOBAL	__end_of_spi_init
   710  07A7                     	__end_of_spi_init:
   711 ;; =============== function _spi_init ends ============
   712                           
   713                           	signat	_spi_init,88
   714                           psect	text108,local,class=CODE,delta=2
   715                           global __ptext108
   716  0000                     __ptext108:
   717                           	global	btemp
   718  007E                     	btemp set 07Eh
   719                           
   720                           	DABS	1,126,2	;btemp
   721                           	global	wtemp0
   722  007E                     	wtemp0 set btemp


HI-TECH Software PICC Macro Assembler V9.82 build 9453 
Symbol Table                                                                                   Wed Apr 12 22:16:19 2017

                         pc 0002                 _SSPSTATbits 0094                          _RD 0C60  
                        u10 07E1                          u11 07E0                          u20 07FE  
                        u21 07FD                          _WR 0C61                          fsr 0004  
                       l580 07D0                         l581 07D0                         l575 078E  
                       l578 07AD                         l579 07CF                         _GIE 005F  
                       fsr0 0004                         indf 0000                        l1730 07DD  
                      l1731 07DD                        l1716 07A6                        l1732 07E1  
                      l1733 07FF                        l2701 07F8                        l1734 07FF  
                      l1728 07F8                        l1729 07D5                        l2683 078F  
                      l2691 07D5                        l2685 07A1                        l2693 07E2  
                      l3581 07AD                        l2687 07A5                        l2695 07E9  
                      l3575 0784                        l3583 07B0                        l2697 07EF  
                      l2689 07D4                        l3577 0789                        l3585 07BE  
                      l2699 07F3                        l3587 07C1                        l3579 07A7  
                      STR_1 0009                        u2277 07C7                        _WREN 0C62  
                      _Init 0784                        _main 07A7                        btemp 007E  
                      start 0000                       ?_Init 0070                       ?_main 0070  
                     _EEADR 010D                       _CARRY 0018                       _TRISA 0085  
                     _TRISB 0086                       _TRISC 0087                       pclath 000A  
                     status 0003                       wtemp0 007E                __end_of_Init 078F  
              __end_of_main 07D3                      ??_Init 0070                      ??_main 0075  
                    _EEDATA 010C                      _EECON1 018C                      _EECON2 018D  
  spi_transfer_sync@dataout 0074                      _SSPBUF 0013            __end_of_spi_init 07A7  
            __pcstackCOMMON 0070                  __pmaintext 07A7                   ?_spi_init 0070  
                   main@tmp 0078        end_of_initialization 0780                  ??_spi_init 0070  
                 _PORTCbits 0007                   _TRISAbits 0085                   _TRISCbits 0087  
       start_initialization 0780     spi_transfer_sync@datain 0070     spi_transfer_sync@length 0071  
         _spi_transfer_sync 07D3          ?_spi_transfer_sync 0070         ??_spi_transfer_sync 0073  
 __end_of_spi_transfer_sync 0800                   __ptext104 0000                   __ptext105 0784  
                 __ptext106 07D3                   __ptext107 078F                   __ptext108 0000  
         __size_of_spi_init 0018                   __pstrings 0003                    _PIR1bits 000C  
               __stringbase 0008  __size_of_spi_transfer_sync 002D               __size_of_Init 000B  
             __size_of_main 002C                    _spi_init 078F                   stringcode 0003  
                  stringdir 0003                    stringtab 0003                  _SSPCONbits 0014  
